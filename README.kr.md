# Stable Diffusion WebUI용 EXIF Remover
---
이미지에서 EXIF 데이터, Stable Diffusion 생성 매개변수 및 스테가노그래픽 워터마크를 제거하는 Stable Diffusion WebUI 확장 프로그램입니다.

2025년 2월 말, Stable Diffusion Forge (WebUI Forge)는 알파 채널 내에 스테가노그래피 기법을 사용하여 생성 정보(인포텍스트)를 이미지에 숨기는 스텔스 기능을 구현했습니다. 이 확장 프로그램은 외부 업로드나 개인 프로젝트에 사용하기 위해 깨끗한 이미지가 필요한 사용자에게 프라이버시와 콘텐츠 소유권 제어를 위한 유연한 옵션을 제공합니다.

## 주요 기능
---
- **EXIF 데이터 제거**: 이미지의 모든 EXIF 메타데이터를 제거합니다.
- **스테가노그래피 제거**: 여러 기법을 사용하여 숨겨진 데이터를 효과적으로 제거합니다:
  - 투명 영역 내 숨겨진 데이터를 제거하기 위한 알파 채널 처리
  - 테두리 스테가노그래피를 파괴하기 위한 엣지 픽셀 노이즈 추가
  - PNG 포맷의 메타데이터 완전 제거
- **일괄 처리**: 여러 이미지를 한 번에 처리하거나 전체 폴더를 처리할 수 있습니다.
- **하위 폴더 지원**: 폴더 내의 모든 하위 폴더를 포함하여 처리할 수 있는 옵션
- **출력 옵션**: 지정된 디렉터리에 저장하거나 원본 위치의 파일을 교체할 수 있습니다.

## 설치 방법
---
1. Stable Diffusion WebUI를 엽니다.  
2. "Extensions" 탭으로 이동합니다.  
3. "Install from URL"을 클릭합니다.  
4. GitHub 저장소 URL ```https://github.com/UltraK18/exif_remover.git``` 을 붙여넣습니다.  
5. Install을 클릭합니다.  
6. WebUI를 재시작합니다.

## 사용법
---
이 확장 프로그램은 WebUI에 "EXIF Remover" 탭을 추가하며, 두 가지 주요 옵션을 제공합니다.

### 개별 파일 처리

1. "Upload Files" 탭을 선택합니다.  
2. 처리할 이미지를 드래그 앤 드롭하거나 선택합니다.  
3. (선택 사항) "Output Path" 필드에 출력 디렉터리를 지정합니다.  
   - **중요:** 유효한 출력 경로가 없으면 이미지 처리가 실패할 수 있습니다.  
4. "Remove EXIF (Files)"를 클릭합니다.  
5. 처리된 이미지는 갤러리에 성공 메시지와 함께 표시됩니다.

### 폴더 처리

1. "Process Folder" 탭을 선택합니다.  
2. 이미지가 포함된 폴더의 경로를 입력합니다.  
3. 모든 하위 폴더를 처리하려면 "Include Subfolders"를 체크합니다.  
4. (선택 사항) "Output Path" 필드에 출력 디렉터리를 지정합니다.  
   - **중요:** 유효한 출력 경로가 없으면 이미지 처리가 실패할 수 있습니다.  
5. "Remove EXIF (Folder)"를 클릭합니다.  
6. 처리된 이미지는 갤러리에 성공 메시지와 함께 표시됩니다.

### 출력 설정

- 원하는 출력 경로를 입력하고 "Save Output Path Setting" 버튼을 클릭하면 설정할 수 있습니다.  
- 이 설정은 WebUI 재시작 후에도 유지됩니다.

## 작동 방식
---
이 확장 프로그램은 다중 계층 접근 방식을 사용하여 메타데이터와 숨겨진 스테가노그래픽 데이터를 제거합니다.

1. **EXIF 메타데이터 제거**: 모든 표준 EXIF 데이터를 제거합니다.  
2. **알파 채널 처리**: 미세한 알파 차이를 이용한 데이터 은닉을 방지하기 위해 투명도를 정상화합니다.  
3. **엣지 픽셀 처리**: 엣지 기반 스테가노그래피를 파괴하기 위해 이미지 테두리에 소량의 노이즈를 추가합니다.  
4. **픽셀 패턴 파괴**: 숨겨진 데이터를 포함할 수 있는 특정 패턴을 정리합니다.

> **참고:** 알파 채널 조정으로 인해 투명 이미지는 영향을 받거나 손상될 수 있습니다.

## 호환성
---
- Stable Diffusion WebUI 및 그 포크와 함께 작동합니다.  
- WebUI 버전 f2.0.1v1.10.1에서 테스트되었습니다.  
- PNG, JPG, JPEG, BMP, WEBP 파일 포맷을 지원합니다.

## 프라이버시 및 보안
---
이 확장 프로그램은 사용자의 컴퓨터에서 로컬로 작동하며 외부로 데이터를 전송하지 않습니다. 이는 AI 생성 이미지에서 식별 가능한 메타데이터와 워터마크를 제거하고자 하는 프라이버시 의식이 강한 사용자들을 위해 설계되었습니다.

## 라이선스
---
[MIT License](LICENSE)

## 감사의 말
---
모든 기여자와 Stable Diffusion 커뮤니티의 지원 및 피드백에 감사드립니다.

### 개발자
[@if-if-if](https://github.com/if-if-if), [@UltraK18](https://github.com/UltraK18)

## 주의 사항
---
- **출력 경로 필수**: 안정적인 이미지 처리를 위해 "Output Path" 필드나 "Save Output Path Setting" 버튼을 통해 유효한 출력 경로를 지정해야 합니다.  
- **투명도 문제**: 확장 프로그램은 처리 과정에서 알파 채널을 수정하므로, 투명 이미지가 손상되거나 변형될 수 있습니다.
